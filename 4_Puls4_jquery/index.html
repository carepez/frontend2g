<!DOCTYPE html> <!-- directiva de ejecucion del navegador que le indica que estamos mandando html5 -->
<html lang="es">
	<meta charset="utf-8">
	<title>Puls4: Comunidad para gente atractiva y millonaria</title>
	<meta name="description" contenyt="">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="css/normalize.css" />
	<link rel="stylesheet" href="css/puls4.css" />

	<body>
		<header>
			<div class="logo">
				<img src="imagenes/logo.png" alt="puls4" />
			</div>
			<div class="titular">
				<h1 class="titulo">
					Pulsa: Comunidad profesional de gnete atractiva
				</h1>
				<div>
					<a href="#" class="filtro">Stylus</a>
					<a href="#" class="publicar">Publicar</a>
				</div>
				<div>
					<a href="#12" class="sizer">A</a>
					<a href="#14" class="sizer">A</a>
					<a href="#16" class="sizer">A</a>
				</div>
			</div>
			<div class="usuario">
				<figure class="avatar">
					<img src="imagenes/avatar.jpg" alt="acarepez">
				</figure>
				<a href="#" class="flechita"></a>
			</div>
			
		</header>
		<nav>
			<ul class="menu">
				<li><a href="#">Python</a></li>
				<li><a href="#">HTML5</a></li>
				<li><a href="#">Javascript</a></li>
				<li><a href="#">Django</a></li>
				<li><a href="#">CSS3</a></li>
			</ul>
		</nav>
		<form>
				<p><label for="titulo">Titulo</label><input placeholder="Titulo" id="ftitulo" name="titulo" type="text"></p>
				<p><label for="autor">Autor</label><input placeholder="Autor" id="fautor" name="autor" type="text"></p>
				<p><label for="tag">Tag</label><input placeholder="Tag" id="ftag" name="" type="text"></p>
				<p><input type="submit"value="publicar"></input></p>
			</form>
		<section class="posts">
			<article class="post">
				<div class="descripcion">
					<figure class="imagen">
						<img src="imagenes/foto.jpg" alt="" />
					</figure>
					<div class="detalles">
						<h2 class="tiitulo">
							Modulo de usuarios lista y paginacion con Laravel
						</h2>
						<p class="autor">
							por <a href="#">Dulio Sanchez</a>
						</p>
						<a class="tag" href="#">PHP</a>
						<p class="fecha">
							hace <strong>20 minutos</strong>
						</p>
					</div>
				</div>
				<div class="acciones">
					<div class="votos">
						<a href="#" class="up"></a>
						<span class="total">155</span>
						<a href="#" class="down"></a>
					</div>
					<div class="datos">
						<a href="#" class="comentarios">10</a>
						<a href="#" class="estrellita"></a>
					</div>
				</div>
			</article>
			<article class="post">
				<div class="descripcion">
					<figure class="imagen">
						<img src="imagenes/foto.jpg" alt="" />
					</figure>
					<div class="detalles">
						<h2 class="tiitulo">
							Modulo de usuarios lista y paginacion con Laravel
						</h2>
						<p class="autor">
							por <a href="#">Dulio Sanchez</a>
						</p>
						<a class="tag" href="#">PHP</a>
						<p class="fecha">
							hace <strong>20 minutos</strong>
						</p>
					</div>
				</div>
				<div class="acciones">
					<div class="votos">
						<a href="#" class="up"></a>
						<span class="total">155</span>
						<a href="#" class="down"></a>
					</div>
					<div class="datos">
						<a href="#" class="comentarios">10</a>
						<a href="#" class="estrellita"></a>
					</div>
				</div>
			</article>
			<article class="post">
				<div class="descripcion">
					<figure class="imagen">
						<img src="imagenes/foto.jpg" alt="" />
					</figure>
					<div class="detalles">
						<h2 class="tiitulo">
							Modulo de usuarios lista y paginacion con Laravel
						</h2>
						<p class="autor">
							por <a href="#">Dulio Sanchez</a>
						</p>
						<a class="tag" href="#">PHP</a>
						<p class="fecha">
							hace <strong>20 minutos</strong>
						</p>
					</div>
				</div>
				<div class="acciones">
					<div class="votos">
						<a href="#" class="up"></a>
						<span class="total">155</span>
						<a href="#" class="down"></a>
					</div>
					<div class="datos">
						<a href="#" class="comentarios">10</a>
						<a href="#" class="estrellita"></a>
					</div>
				</div>
			</article>
			<article class="post">
				<div class="descripcion">
					<figure class="imagen">
						<img src="imagenes/foto.jpg" alt="" />
					</figure>
					<div class="detalles">
						<h2 class="tiitulo">
							Modulo de usuarios lista y paginacion con Laravel
						</h2>
						<p class="autor">
							por <a href="#">Dulio Sanchez</a>
						</p>
						<a class="tag" href="#">PHP</a>
						<p class="fecha">
							hace <strong>20 minutos</strong>
						</p>
					</div>
				</div>
				<div class="acciones">
					<div class="votos">
						<a href="#" class="up"></a>
						<span class="total">155</span>
						<a href="#" class="down"></a>
					</div>
					<div class="datos">
						<a href="#" class="comentarios">10</a>
						<a href="#" class="estrellita"></a>
					</div>
				</div>
			</article>
			<article class="post">
				<div class="descripcion">
					<figure class="imagen">
						<img src="imagenes/foto.jpg" alt="" />
					</figure>
					<div class="detalles">
						<h2 class="tiitulo">
							Modulo de usuarios lista y paginacion con Laravel
						</h2>
						<p class="autor">
							por <a href="#">Dulio Sanchez</a>
						</p>
						<a class="tag" href="#">PHP</a>
						<p class="fecha">
							hace <strong>20 minutos</strong>
						</p>
					</div>
				</div>
				<div class="acciones">
					<div class="votos">
						<a href="#" class="up"></a>
						<span class="total">155</span>
						<a href="#" class="down"></a>
					</div>
					<div class="datos">
						<a href="#" class="comentarios">10</a>
						<a href="#" class="estrellita"></a>
					</div>
				</div>
			</article>
			<article class="post">
				<div class="descripcion">
					<figure class="imagen">
						<img src="imagenes/foto.jpg" alt="" />
					</figure>
					<div class="detalles">
						<h2 class="tiitulo">
							Modulo de usuarios lista y paginacion con Laravel
						</h2>
						<p class="autor">
							por <a href="#">Dulio Sanchez</a>
						</p>
						<a class="tag" href="#">PHP</a>
						<p class="fecha">
							hace <strong>20 minutos</strong>
						</p>
					</div>
				</div>
				<div class="acciones">
					<div class="votos">
						<a href="#" class="up"></a>
						<span class="total">155</span>
						<a href="#" class="down"></a>
					</div>
					<div class="datos">
						<a href="#" class="comentarios">10</a>
						<a href="#" class="estrellita"></a>
					</div>
				</div>
			</article>
		</section>
		<footer>
			<h3>
				<strong class="powered">Powered by Platzi</strong>
				<span class="mejor">mejorando.la 2013</span>
			</h3>
		</footer>
		<script type="text/Javascript" src="jquery-2.0.3.min.js"></script>
		<script>
			

			$(function(){
				console.log('estamos listos');
				$('.publicar').on('click', mostrarformulario);

			function mostrarformulario(){
					console.log('toggle');
					$('form').slideToggle();
			}

			$('form').on('submit', procesarFormulario);

			function procesarFormulario(ev){
				ev.preventDefault();
				var titulo = $('input[name=titulo]').val();
				var autor = $('input[name=autor]').val();
				var tag = $('input[name=tag]').val();

				var tmplt = '<article class="post">\
					<div class="descripcion">\
						<figure class="imagen">\
							<img src="imagenes/foto.jpg" alt="" />\
						</figure>\
						<div class="detalles">\
							<h2 class="tiitulo">\
								'+titulo+'\
							</h2>\
							<p class="autor">\
								por <a href="#">'+autor+'</a>\
							</p>\
							<a class="tag" href="#">'+tag+'</a>\
							<p class="fecha">\
								hace <strong>20 minutos</strong>\
							</p>\
						</div>\
					</div>\
					<div class="acciones">\
						<div class="votos">\
							<a href="#" class="up"></a>\
							<span class="total">0</span>\
							<a href="#" class="down"></a>\
						</div>\
						<div class="datos">\
							<a href="#" class="comentarios">0</a>\
							<a href="#" class="estrellita"></a>\
						</div>\
					</div>\
				</article>';

				/**problema posicionamento
				$('.posts').prepend($(tmplt).fadeIn(function(){
					$(this).css('display','inline-block');
				}));
				*/
				$('.posts').prepend(tmplt);
				$('input[type=text]').val('');
				$('form').slideUp();
			}

				//CLOSURE COMO FABRICA DE FUNCIONES

				function crearSizer(pixels){
					return function(){
						$('body').css('font-size', pixels+'px');
					}
				}

				$('.sizer').each(function(index,element){
					var pixels = $(element).prop('hash').substring(1);
					$(element)
						.css('font-size', pixels+'px')
						.on('click', crearSizer(pixels));
				});

				//CLOSURE PARA OCULTAR CODIGO

				function crearContador (c) {
					var contador = c || 0;//privado
					return { //publico
						up : function () {
							return ++contador;
						},
						down : function () {
							return --contador;
						}
					};
				}

				$('.total').each(function(index, elemento){
					var contTotal = crearContador(elemento.innerHTML);
					$(elemento)
						.siblings('.up')
							.on('click', function(ev){
								ev.preventDefault();
								$(elemento).html(contTotal.up());
							})
						.siblings('.down')
							.on('click', function(ev){
								ev.preventDefault();
								$(elemento).html(contTotal.down());
							});
				});
			});


		</script>
	</body>
</html>	